<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<title>Voice to Text Web App</title>
<style>
body{
    font-family: Arial, sans-serif;
    background:#f4f6f8;
    padding:30px;
}
h1{
    color:#333;
}
button{
    padding:10px 20px;
    margin:5px;
    font-size:16px;
    cursor:pointer;
}
#output{
    width:100%;
    height:200px;
    margin-top:15px;
    padding:10px;
    font-size:16px;
}
</style>
</head>
<body>

<h1>üé§ Voice to Text (Hindi / English)</h1>

<button onclick="startRecognition()">‚ñ∂ Start</button>
<button onclick="stopRecognition()">‚èπ Stop</button>
<button onclick="downloadText()">üíæ Save Text File</button>

<textarea id="output" placeholder="Yahan aapka bola hua text aayega..."></textarea>

<script>
let recognition;

if ('webkitSpeechRecognition' in window) {
    recognition = new webkitSpeechRecognition();
    recognition.lang = 'hi-IN';   // Hindi
    recognition.continuous = true;
    recognition.interimResults = true;

    recognition.onresult = function(event) {
        let finalTranscript = '';
        for (let i = event.resultIndex; i < event.results.length; ++i) {
            finalTranscript += event.results[i][0].transcript;
        }
        document.getElementById("output").value = finalTranscript;
    };

    recognition.onerror = function(event) {
        alert("Mic ya permission problem: " + event.error);
    };

} else {
    alert("Aapka browser Speech Recognition support nahi karta. Chrome use karein.");
}

function startRecognition() {
    recognition.start();
}

function stopRecognition() {
    recognition.stop();
}

function downloadText() {
    const text = document.getElementById("output").value;
    const blob = new Blob([text], { type: "text/plain" });
    const link = document.createElement("a");
    link.href = URL.createObjectURL(blob);
    link.download = "speech-text.txt";
    link.click();
}
</script>

</body>
</html>
